
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>NotImplementedException in Graphics.DrawImage - Felipe Lima</title>
  <meta name="author" content="Felipe Lima">

  
  <meta name="description" content="It is a bit weird to notice that a .Net Framework method returns NotImplementedException. At least it was for me, mainly because it is not documented &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://felipecsl.com/blog/2009/06/24/notimplementedexception-in-graphics-drawimage">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Felipe Lima" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href='http://fonts.googleapis.com/css?family=Quattrocento+Sans|Roboto:400,300' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26310657-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>


<body>
	<div class="container">
		<aside class="left">
			<div class="inner-left">
				<header>
					<img src="http://www.gravatar.com/avatar/7fd4ba468da56bb5330a6352c1b54f52?s=200" alt="Gravatar of Felipe Lima " title="Gravatar of Felipe Lima" class="profilepic" />
<hgroup>
  <h1><a href="/">Felipe Lima</a></h1>
  
    <h2 class="subtitle">@felipecsl</h2>
   
</hgroup>


				</header>
				<footer>
					<p>
	
		<a href="http://github.com/felipecsl" class="btn btn-dark">GitHub</a>
	
	
		<a href="http://twitter.com/felipecsl" class="btn btn-dark">Twitter</a>
	
</p>
				</footer>
			</div>
		</aside>
    	<section class="right">
    		<div class="inner-right">
    			<div id="posts">
    			  	<article class="post">
    
  <header>
    
      <h1 class="entry-title">NotImplementedException in Graphics.DrawImage</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-06-24T08:13:00-03:00" pubdate data-updated="true">Jun 24<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>It is a bit weird to notice that a .Net Framework method returns NotImplementedException. At least it was for me, mainly because it is not documented anywhere in the msdn documentation.</p>

<p>It turns out that Graphics.DrawImage throws this exception when an Image object is passed in. This is really funny, since this method actually expects an Image object as its first argument, so my first-try code to print an image file was:</p>

<pre><code>&lt;span class="lnum"&gt;   1:  &lt;/span&gt;&lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;void&lt;/span&gt; PrintImage(&lt;span class="kwrd"&gt;string&lt;/span&gt; fileName)






&lt;span class="lnum"&gt;   2:  &lt;/span&gt; 






&lt;span class="lnum"&gt;   3:  &lt;/span&gt;{






&lt;span class="lnum"&gt;   4:  &lt;/span&gt; 






&lt;span class="lnum"&gt;   5:  &lt;/span&gt;      Image img = Image.FromFile(fileName);






&lt;span class="lnum"&gt;   6:  &lt;/span&gt;      PrintDocument printDoc = &lt;span class="kwrd"&gt;new&lt;/span&gt; PrintDocument();






&lt;span class="lnum"&gt;   7:  &lt;/span&gt;      printDoc.DocumentName = &lt;span class="kwrd"&gt;this&lt;/span&gt;.m_sFilename;






&lt;span class="lnum"&gt;   8:  &lt;/span&gt;      printDoc.PrintPage += &lt;span class="kwrd"&gt;new&lt;/span&gt; PrintPageEventHandler(PrintPage);






&lt;span class="lnum"&gt;   9:  &lt;/span&gt;      printDoc.Print();






&lt;span class="lnum"&gt;  10:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  11:  &lt;/span&gt;}






&lt;span class="lnum"&gt;  12:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  13:  &lt;/span&gt;&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;void&lt;/span&gt; PrintPage(&lt;span class="kwrd"&gt;object&lt;/span&gt; sender, PrintPageEventArgs e)






&lt;span class="lnum"&gt;  14:  &lt;/span&gt;{






&lt;span class="lnum"&gt;  15:  &lt;/span&gt;      &lt;span class="rem"&gt;// Throws NotImplementedException!!!&lt;/span&gt;






&lt;span class="lnum"&gt;  16:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  17:  &lt;/span&gt;      e.Graphics.DrawImage(






&lt;span class="lnum"&gt;  18:  &lt;/span&gt;           &lt;span class="kwrd"&gt;this&lt;/span&gt;.printedImage,






&lt;span class="lnum"&gt;  19:  &lt;/span&gt;           &lt;span class="kwrd"&gt;new&lt;/span&gt; Point(e.MarginBounds.Left, e.MarginBounds.Top));






&lt;span class="lnum"&gt;  20:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  21:  &lt;/span&gt;      e.HasMorePages = &lt;span class="kwrd"&gt;false&lt;/span&gt;;






&lt;span class="lnum"&gt;  22:  &lt;/span&gt;}
</code></pre>

<p>Weird, eh?! So, the solution?</p>

<pre><code>&lt;span class="lnum"&gt;   1:  &lt;/span&gt;Bitmap img = (Bitmap)Image.FromFile(fileName);
</code></pre>

<p>Bitmap class extends Image, so, IMHO, DrawImage should determine in runtime that the image passed in is actually is a Bitmap and do whatever it has to do, but, strangely, it complains and throws a NotImplementedException for the exactly same runtime object.</p>

<p>Can someone explain what is happening here?</p>
</div>


</article>


        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://felipecsl.com/blog/2009/06/24/notimplementedexception-in-graphics-drawimage/" data-via="felipecsl" data-counturl="http://felipecsl.com/blog/2009/06/24/notimplementedexception-in-graphics-drawimage/" >Tweet</a>
  
  
  
</div>





    			</div>
    			<footer id="footer">
    				<p class="credit">
  Copyright &copy; 2014 - Felipe Lima. Powered by <a href="http://octopress.org">Octopress</a>
</p>


    			</footer>
    			







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<link href='http://fonts.googleapis.com/css?family=Quattrocento+Sans|Roboto:400,300' rel='stylesheet' type='text/css'>


  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26310657-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>




    		</div>
    	</section>
  	</div>
</body>
</html>
