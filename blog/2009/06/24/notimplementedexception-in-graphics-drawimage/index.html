
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>NotImplementedException in Graphics.DrawImage - Felipe Lima</title>
  <meta name="author" content="Felipe Lima">

  
  <meta name="description" content="It is a bit weird to notice that a .Net Framework method returns NotImplementedException. At least it was for me, mainly because it is not documented &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://felipecsl.github.com/blog/2009/06/24/notimplementedexception-in-graphics-drawimage/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Felipe Lima" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26310657-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Felipe Lima</a></h1>
  
    <h2>weblog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:felipecsl.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">NotImplementedException in Graphics.DrawImage</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-06-24T04:13:00-07:00" pubdate data-updated="true">Jun 24<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>It is a bit weird to notice that a .Net Framework method returns NotImplementedException. At least it was for me, mainly because it is not documented anywhere in the msdn documentation.</p>

<p>It turns out that Graphics.DrawImage throws this exception when an Image object is passed in. This is really funny, since this method actually expects an Image object as its first argument, so my first-try code to print an image file was:</p>

<pre><code>&lt;span class="lnum"&gt;   1:  &lt;/span&gt;&lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;void&lt;/span&gt; PrintImage(&lt;span class="kwrd"&gt;string&lt;/span&gt; fileName)






&lt;span class="lnum"&gt;   2:  &lt;/span&gt; 






&lt;span class="lnum"&gt;   3:  &lt;/span&gt;{






&lt;span class="lnum"&gt;   4:  &lt;/span&gt; 






&lt;span class="lnum"&gt;   5:  &lt;/span&gt;      Image img = Image.FromFile(fileName);






&lt;span class="lnum"&gt;   6:  &lt;/span&gt;      PrintDocument printDoc = &lt;span class="kwrd"&gt;new&lt;/span&gt; PrintDocument();






&lt;span class="lnum"&gt;   7:  &lt;/span&gt;      printDoc.DocumentName = &lt;span class="kwrd"&gt;this&lt;/span&gt;.m_sFilename;






&lt;span class="lnum"&gt;   8:  &lt;/span&gt;      printDoc.PrintPage += &lt;span class="kwrd"&gt;new&lt;/span&gt; PrintPageEventHandler(PrintPage);






&lt;span class="lnum"&gt;   9:  &lt;/span&gt;      printDoc.Print();






&lt;span class="lnum"&gt;  10:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  11:  &lt;/span&gt;}






&lt;span class="lnum"&gt;  12:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  13:  &lt;/span&gt;&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;void&lt;/span&gt; PrintPage(&lt;span class="kwrd"&gt;object&lt;/span&gt; sender, PrintPageEventArgs e)






&lt;span class="lnum"&gt;  14:  &lt;/span&gt;{






&lt;span class="lnum"&gt;  15:  &lt;/span&gt;      &lt;span class="rem"&gt;// Throws NotImplementedException!!!&lt;/span&gt;






&lt;span class="lnum"&gt;  16:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  17:  &lt;/span&gt;      e.Graphics.DrawImage(






&lt;span class="lnum"&gt;  18:  &lt;/span&gt;           &lt;span class="kwrd"&gt;this&lt;/span&gt;.printedImage,






&lt;span class="lnum"&gt;  19:  &lt;/span&gt;           &lt;span class="kwrd"&gt;new&lt;/span&gt; Point(e.MarginBounds.Left, e.MarginBounds.Top));






&lt;span class="lnum"&gt;  20:  &lt;/span&gt; 






&lt;span class="lnum"&gt;  21:  &lt;/span&gt;      e.HasMorePages = &lt;span class="kwrd"&gt;false&lt;/span&gt;;






&lt;span class="lnum"&gt;  22:  &lt;/span&gt;}
</code></pre>

<p>Weird, eh?! So, the solution?</p>

<pre><code>&lt;span class="lnum"&gt;   1:  &lt;/span&gt;Bitmap img = (Bitmap)Image.FromFile(fileName);
</code></pre>

<p>Bitmap class extends Image, so, IMHO, DrawImage should determine in runtime that the image passed in is actually is a Bitmap and do whatever it has to do, but, strangely, it complains and throws a NotImplementedException for the exactly same runtime object.</p>

<p>Can someone explain what is happening here?</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Felipe Lima</span></span>

      








  


<time datetime="2009-06-24T04:13:00-07:00" pubdate data-updated="true">Jun 24<span>th</span>, 2009</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://felipecsl.github.com/blog/2009/06/24/notimplementedexception-in-graphics-drawimage/" data-via="felipecsl" data-counturl="http://felipecsl.github.com/blog/2009/06/24/notimplementedexception-in-graphics-drawimage/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/06/17/hiding-sensitive-data-in-the-query-string/" title="Previous Post: Hiding sensitive data in the query string">&laquo; Hiding sensitive data in the query string</a>
      
      
        <a class="basic-alignment right" href="/blog/2009/07/02/ef-objectcontext-attach-and-objectstatemanager/" title="Next Post: EF ObjectContext.Attach and ObjectStateManager">EF ObjectContext.Attach and ObjectStateManager &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/31/starting-with-android-managing-images/">Starting with Android - managing images</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/31/when-two-identical-strings-are-different/">When two identical strings are different?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/14/getting-started-with-chef/">Getting started with Chef</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/05/protip-delete-words-on-iterm2-mac-osx/">Protip: Delete words on iTerm2 (Mac OSX)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/24/wombat-0-4-0-released/">Wombat 0.4.0 released!</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/felipecsl">@felipecsl</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'felipecsl',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<a href="mailto:felipe.lima@gmail.com" title="Pair program with me!">
  <img  src="http://pairprogramwith.me/badge.png"
        alt="Pair program with me!" style="width: 150px" />
</a>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Felipe Lima -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
