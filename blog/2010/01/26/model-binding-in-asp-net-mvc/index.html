
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Model binding in ASP.NET MVC - Felipe Lima</title>
  <meta name="author" content="Felipe Lima">

  
  <meta name="description" content="Ever since I started discovering the MVC world I decided to completely forget Web Forms and actually adopt asp.net MVC as my web programming &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://felipecsl.github.com/blog/2010/01/26/model-binding-in-asp-net-mvc/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Felipe Lima" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Felipe Lima</a></h1>
  
    <h2>weblog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:felipecsl.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Model Binding in ASP.NET MVC</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-26T11:30:00-08:00" pubdate data-updated="true">Jan 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img src="http://i.zdnet.com/blogs/agile-is-cool.jpg" alt="" /></p>

<p>Ever since I started discovering the MVC world I decided to completely forget Web Forms and actually adopt asp.net MVC as my web programming framework of choice. What&#8217;s great about it is that you have complete control over the generated html output and absolute separation of business logic, presentation layer and model. It&#8217;s all about <a href="http://en.wikipedia.org/wiki/Convention_over_configuration">convention over configuration</a>! This is one of the reasons why I decided to learn Ruby on Rails some time ago. It is clear that the <strike>ASP.NET MVC</strike> .NET Framework 3.5 SP1 release was somewhat influenced by Rails.</p>

<p>One of the great things about ASP.NET MVC is model binding. K. Scott Allen wrote a <a href="http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx">great blog post</a> with tips on binding. Basically, it collects your request data and fills up your view model with the incoming data.</p>

<p>There is a search pattern that the DefaultModelBinder uses to look for the data in the request. Basically you need to name your form elements with the same name of your model properties. For example:</p>

<ol>
<li><p>The view model:</p>

<p> <span class="lnum">   1:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> NewsModuleViewModel</p>

<p> <span class="lnum">   2:  </span>{</p>

<p> <span class="lnum">   3:  </span>    [ScaffoldColumn(<span class="kwrd">false</span>)]</p>

<p> <span class="lnum">   4:  </span>    <span class="kwrd">public</span> <span class="kwrd">int</span> ID { get; set; }</p>

<p> <span class="lnum">   5:  </span></p>

<p> <span class="lnum">   6:  </span>    [DisplayName(<span class="str">&#8220;News Date&#8221;</span>)]</p>

<p> <span class="lnum">   7:  </span>    [DisplayFormat(DataFormatString = <span class="str">&#8220;d&#8221;</span>, ApplyFormatInEditMode = <span class="kwrd">true</span>)]</p>

<p> <span class="lnum">   8:  </span>    [Required(ErrorMessage = <span class="str">&#8220;Por favor selecione uma data&#8221;</span>)]</p>

<p> <span class="lnum">   9:  </span>    <span class="kwrd">public</span> DateTime? Date { get; set; }</p>

<p> <span class="lnum">  10:  </span></p>

<p> <span class="lnum">  11:  </span>    [DisplayName(<span class="str">&#8220;Title&#8221;</span>)]</p>

<p> <span class="lnum">  12:  </span>    [Required(ErrorMessage = <span class="str">&#8220;Por favor digite um titulo&#8221;</span>)]</p>

<p> <span class="lnum">  13:  </span>    <span class="kwrd">public</span> <span class="kwrd">string</span> Title { get; set; }</p>

<p> <span class="lnum">  14:  </span></p>

<p> <span class="lnum">  15:  </span>    [DisplayName(<span class="str">&#8220;Resume&#8221;</span>)]</p>

<p> <span class="lnum">  16:  </span>    <span class="kwrd">public</span> <span class="kwrd">string</span> Resume { get; set; }</p>

<p> <span class="lnum">  17:  </span></p>

<p> <span class="lnum">  18:  </span>    [DisplayName(<span class="str">&#8220;My Text&#8221;</span>)]</p>

<p> <span class="lnum">  19:  </span>    [UIHint(<span class="str">&#8220;HtmlText&#8221;</span>)]</p>

<p> <span class="lnum">  20:  </span>    [Required(ErrorMessage = <span class="str">&#8220;Por favor digite um texto para a noticia&#8221;</span>)]</p>

<p> <span class="lnum">  21:  </span>    <span class="kwrd">public</span> <span class="kwrd">string</span> Text { get; set; }</p>

<p> <span class="lnum">  22:  </span></p>

<p> <span class="lnum">  23:  </span>    [DisplayName(<span class="str">&#8220;Image&#8221;</span>)]</p>

<p> <span class="lnum">  24:  </span>    [UIHint(<span class="str">&#8220;DbImage&#8221;</span>, <span class="kwrd">null</span>, <span class="str">&#8220;AspectRatio&#8221;</span>, 1.0)]</p>

<p> <span class="lnum">  25:  </span>    <span class="kwrd">public</span> <span class="kwrd">string</span> ImagePath { get; set; }</p>

<p> <span class="lnum">  26:  </span>}</p></li>
<li><p>The form:</p>

<p> <span class="lnum">   1:  </span><span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">action</span><span class="kwrd">=&#8221;/uac/NewsModule/Edit/12&#8221;</span> <span class="attr">enctype</span><span class="kwrd">=&#8221;multipart/form-data&#8221;</span> <span class="attr">method</span><span class="kwrd">=&#8221;post&#8221;</span><span class="kwrd">></span></p>

<p> <span class="lnum">   2:  </span></p>

<p> <span class="lnum">   3:  </span><span class="kwrd">&lt;</span><span class="html">p</span> <span class="attr">class</span><span class="kwrd">=&#8221;datalist-form&#8221;</span><span class="kwrd">></span></p>

<p> <span class="lnum">   4:  </span>    <span class="kwrd">&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=&#8221;Date&#8221;</span><span class="kwrd">>Date</span><span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">></span></p>

<p> <span class="lnum">   5:  </span>    <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=&#8221;text&#8221;</span> <span class="attr">id</span><span class="kwrd">=&#8221;Date&#8221;</span> <span class="attr">name</span><span class="kwrd">=&#8221;<strong>Date</strong>&#8221;</span> <span class="attr">value</span><span class="kwrd">=&#8221;22/1/2010&#8221;</span> <span class="kwrd">/></span></p>

<p> <span class="lnum">   6:  </span><span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">></span></p>

<p> <span class="lnum">   7:  </span><span class="kwrd">&lt;</span><span class="html">p</span> <span class="attr">class</span><span class="kwrd">=&#8221;datalist-form&#8221;</span><span class="kwrd">></span></p>

<p> <span class="lnum">   8:  </span>    <span class="kwrd">&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=&#8221;Title&#8221;</span><span class="kwrd">>Title</span><span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">></span></p>

<p> <span class="lnum">   9:  </span>    <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">class</span><span class="kwrd">=&#8221;text-box single-line&#8221;</span> <span class="attr">id</span><span class="kwrd">=&#8221;Title&#8221;</span> <span class="attr">name</span><span class="kwrd">=&#8221;<strong>Title</strong>&#8221;</span> <span class="attr">type</span><span class="kwrd">=&#8221;text&#8221;</span> <span class="kwrd">/></span></p>

<p> <span class="lnum">  10:  </span><span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">></span></p>

<p> <span class="lnum">  11:  </span><span class="kwrd">&lt;</span><span class="html">p</span> <span class="attr">class</span><span class="kwrd">=&#8221;datalist-form&#8221;</span><span class="kwrd">></span></p>

<p> <span class="lnum">  12:  </span>    <span class="kwrd">&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=&#8221;Resume&#8221;</span><span class="kwrd">>Resume</span><span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">></span></p>

<p> <span class="lnum">  13:  </span>    <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">class</span><span class="kwrd">=&#8221;text-box single-line&#8221;</span> <span class="attr">id</span><span class="kwrd">=&#8221;Resume&#8221;</span> <span class="attr">name</span><span class="kwrd">=&#8221;</span><strong><span class="kwrd">Resume</span></strong><span class="kwrd">&#8221;</span> <span class="attr">type</span><span class="kwrd">=&#8221;text&#8221;</span> <span class="kwrd">/></span></p>

<p> <span class="lnum">  14:  </span><span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">></span></p></li>
</ol>


<p>(I&#8217;ve reduced the HTML markup snippet for the sake of simplicity).</p>

<p>Please note that the input field name properties match the view model property names. The DefaultModelBinder will look for these names when doing the data binding!</p>

<p><a href="http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx">
You can even bind complex objects like lists</a>, for example, but, in this case, you&#8217;ll have to name your input fields according to the element index on the list! Eg.:</p>

<pre><code>&lt;span class="lnum"&gt;   1:  &lt;/span&gt;&lt;span class="kwrd"&gt;&lt;&lt;/span&gt;&lt;span class="html"&gt;input&lt;/span&gt; &lt;span class="attr"&gt;type&lt;/span&gt;&lt;span class="kwrd"&gt;="text"&lt;/span&gt; &lt;span class="attr"&gt;name&lt;/span&gt;&lt;span class="kwrd"&gt;="&lt;strong&gt;ImageList[0].FileName&lt;/strong&gt;" size="&lt;/span&gt;&lt;span class="attr"&gt;44&lt;/span&gt;" &lt;span class="kwrd"&gt;/&gt;&lt;/span&gt;
</code></pre>

<p>It is really straightforward once you get used to it. Just always make sure to create a ViewModel class for you, instead of using the data classes directly (eg.: with LINQ to SQL).</p>

<p>If you need to bind uploaded files as well, it gets a bit more complicated. The best solution I&#8217;ve found so far was <strong>not </strong>to bind file input control and later retrieve the uploaded file in the controller action from the Request.Files collection.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Felipe Lima</span></span>

      








  


<time datetime="2010-01-26T11:30:00-08:00" pubdate data-updated="true">Jan 26<span>th</span>, 2010</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://felipecsl.github.com/blog/2010/01/26/model-binding-in-asp-net-mvc/" data-via="felipecsl" data-counturl="http://felipecsl.github.com/blog/2010/01/26/model-binding-in-asp-net-mvc/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/12/02/an-alternative-for-viewing-grid-row-details-in-asp-net-dynamic-data/" title="Previous Post: An alternative for viewing grid row details in ASP.NET Dynamic Data">&laquo; An alternative for viewing grid row details in ASP.NET Dynamic Data</a>
      
      
        <a class="basic-alignment right" href="/blog/2010/02/21/the-magic-of-defaultmodelbinder/" title="Next Post: The magic of DefaultModelBinder">The magic of DefaultModelBinder &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/31/starting-with-android-managing-images/">Starting with Android - managing images</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/31/when-two-identical-strings-are-different/">When two identical strings are different?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/14/getting-started-with-chef/">Getting started with Chef</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/05/protip-delete-words-on-iterm2-mac-osx/">Protip: Delete words on iTerm2 (Mac OSX)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/24/wombat-0-4-0-released/">Wombat 0.4.0 released!</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/felipecsl">@felipecsl</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'felipecsl',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Felipe Lima -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
