
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Felipe Lima</title>
	<meta name="author" content="Felipe Lima">

	
	<meta name="description" content="career Moving On Context 2014 Ended on a great note and I couldn&rsquo;t be more happy, both on personal and professional aspects.
After spending &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Felipe Lima" type="application/atom+xml">
	
	<link rel="canonical" href="http://felipecsl.com/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-26310657-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<img src="http://www.gravatar.com/avatar/7fd4ba468da56bb5330a6352c1b54f52?s=160" alt="Profile Picture" style="width: 160px;" />
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="http://about.me/felipecsl">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
			<a class="google" href="https://plus.google.com/FelipeLimaf" rel="author" title="Google+">Google+</a>
		
		
			<a class="twitter" href="http://twitter.com/felipecsl" title="Twitter">Twitter</a>
		
		
			<a class="github" href="https://github.com/felipecsl" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/felipecsl">felipecsl</a> @ <a href="http://twitter.com">Twitter</a></small>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('felipecsl', 4, false);
	})(jQuery);
</script>


			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-01-13T22:47:52-08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/career/'>career</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/01/13/moving-on/" itemprop="url">Moving On</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h2>Context</h2>

<p>2014 Ended on a great note and I couldn&rsquo;t be more happy, both on personal and professional aspects.
After spending the entire year living in Porto Alegre (in Brazil and my hometown) and working remotely from there, it turns out the experience has been far better than I had previously imagined..
Of course remote work has both its advantages and disadvantages, which I won&rsquo;t go into detail, since it has been already <a href="http://37signals.com/remote/">widely</a> <a href="http://www.forbes.com/sites/danschawbel/2013/03/29/david-heinemeier-hansson-every-employee-should-work-from-home/">discussed</a> online.</p>

<p>For the past 2 and a half years, I&rsquo;ve been working at <a href="http://weheartit.com">We Heart It</a>, hacking on their <a href="https://play.google.com/store/apps/details?id=com.weheartit">Android App</a>. I&rsquo;ve been doing that remotely for the past year and worked great.
That app feels almost like a child to me. I&rsquo;ve built it literally from scratch, with zero experience with mobile and/or Android whatsoever, which made it a very challenging task to begin with.
During that, of course I&rsquo;ve had help from other awesome fellow developers in the team, however, since I&rsquo;ve been doing it since the beginning, I happened to touch virtually every single class of the app, participating actively in the conception of the design, architecture and development of every feature.</p>

<p>Working at We Heart It has been an amazing opportunity, where I met a bunch of awesome people and made some great friends. I learned A LOT of stuff during that period, and diving into Android grew in me a passion for this platform and an important extra skill, which is the ability to write mobile apps with proficiency..
It a place that is now part of my heart and that I will forever remember.</p>

<h2>Future</h2>

<p>2015 has already started and it is now time to move on. My wife and I are finally back in San Francisco and properly settled.
After meeting some of the awesome folks at <a href="http://airbnb.com">Airbnb</a> I&rsquo;ve decided to leave We Heart It and join Airbnb. I&rsquo;ll be primarily working on their Android app but may move back and forth between platforms depending on the weather conditions :)</p>

<p>Airbnb is a super awesome company and I feel extremely connected to its core values and value proposition. The sharing economy is real and is here to stay, getting bigger every day. Uber, Lyft, Instacart, Airbnb, etc. are some notable examples of innovative companies which leverage their communities to provide a useful service for everyone.</p>

<p>The people there are super smart. The office is beautiful and the culture is amazing, even for a company with already more than 1 thousand employees and several offices spread around the world.</p>

<p>I&rsquo;m super excited with this new challenge and ready to keep hacking on Android. Expect more posts to come soon!</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-04-04T19:51:34-07:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/seguranca/'>seguranca</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/04/04/explorando-uma-brecha-de-seguranca-no-bomnegocio-dot-com/" itemprop="url">(Pt-br) Explorando Uma Brecha De Segurança No bomnegocio.com</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Meta: This post, written in Portuguese, about a security breach I found and reported in a famous Brazilian marketplace website. Here I&rsquo;m describing how I found and exploited it. The vulnerability has been already reported and fixed by the website.</p>

<h1>Introdução</h1>

<p>Aqui no Brasil tem vários sites de compra e venda de cacarecos online. Sempre usei o <a href="http://mercadolivre.com.br">Mercado Livre</a> desde a época da faculdade para comprar e vender principalmente coisas usadas. Entretanto, com o tempo ele foi ficando mais caro para anunciar e outros concorrentes apareceram.</p>

<p>Mais recentemente, notei a entrada no mercado (a propósito, com os dois pés na porta) do <a href="http://bomnegocio.com">Bom Negócio</a> e do <a href="http://olx.com.br">OLX</a>. Ambos fazendo muita propaganda na TV, inclusive em horário nobre da Grobo. Me chamou a atenção a propaganda do Bom Negócio, muito engraçada por sinal, com a participação do <a href="https://twitter.com/compadrewash">Compadre Washington</a> falando, entre outras largadinhas clássicas, o &ldquo;sabe de nada, inocente!&rdquo;. Hilário.</p>

<p>Estamos fazendo reforma aqui no apartamento e precisamos nos desfazer de alguns pertences, entre eles, uma mesa redonda, antiga, de madeira de Gramado com quatro cadeiras, muito bonita, por sinal.</p>

<p>Resolvi dar uma chance para o Bom Negócio e anunciar lá. Fiz upload das imagens, coloquei uma descrição, preço camarada e criei o anúncio. Em poucos minutos, depois de ter sido aprovado (a moderação é manual!) já comecei a receber SMS e emails de pessoas interessadas. Como coloquei um bom preço para vender logo, imaginei que fosse vender rápido, mas nunca imaginei que seria assim tão rápido.</p>

<p>Acabei fechando negócio com um magrão gente boa que veio e buscou a mesa e cadeiras cerca de 2h depois de eu ter criado o anúncio. Tudo isso de graça. Performance impressionante! Me surpreendi.</p>

<h1>Investigação</h1>

<p>Por ser programador, desde o momento que entrei no site, comecei a reparar nos detalhes das páginas, como foram implementadas, as URLs, padrões, etc. Notei que havia algo de estranho na maneira que ele tratava as páginas internas do usuário, mas uma em especial me chamou a atenção, o link de Editar Anúncio.</p>

<p><a href="/images/2014/04/bnegocio_editar.png"><img src="/images/2014/04/bnegocio_editar.png" alt="" /></a></p>

<p>Notei que ao clicar no link acontecia um redirect estranho que me levava para uma página com a URL mais ou menos assim: <code>http://www2.bomnegocio.com/ai/form/0?cmd=edit&amp;ticket=2cc84e2e9f0d41387d79794b12ceba07990cf0c2</code>. Entretanto, o link de editar anúncio tinha o href bem diferente. Esse era o formato: <code>https://www3.bomnegocio.com/password_page/load_page/0?list_id=437898346&amp;cmd=edit&amp;type=AD_EDIT&amp;data=1343242</code>. Isso me deixou com uma pulga atrás da orelha.</p>

<p>Ao olhar para essa URL, a primeira coisa que me veio à cabeça foi de alterar o número do parâmetro <code>list_id</code> para o ID de outro produto do site. Não foi difícil obter o ID de outro produto. Olhando para a URL de um anúncio (<code>http://rs.bomnegocio.com/regioes-de-porto-alegre-torres-e-santa-cruz-do-sul/computadores-e-acessorios/monitor-17-proview-preto-tela-plana-31904501</code>), fica claro que o ID se trata do último segmento do path, mais precisamente, neste caso, <code>31904501</code>. Também era possível encontrar este ID na própria descrição do produto, pois ele vem na página mesmo, entitulado <strong>Código do anúncio</strong>:</p>

<p><a href="/images/2014/04/bnegocio_id_anuncio.png"><img src="/images/2014/04/bnegocio_id_anuncio.png" alt="" /></a></p>

<p>Em seguida, o que fiz foi apenas testar este ID novo naquela URL de editar anúncio, alterando o parâmetro <code>list_id</code>. Com a alteração, ficaria mais ou menos assim: <code>https://www3.bomnegocio.com/password_page/load_page/0?list_id=31904501&amp;cmd=edit&amp;type=AD_EDIT&amp;data=1343242</code>.</p>

<p>Ao fazer esta simples alteração, algo mágico aconteceu. O Bom Negócio simplesmente me redirecionou para a página de editar anúncio, com todas as informações preenchidas do anúncio referente ao ID <code>31904501</code> (que pertencia a outro usuário), além dos dados pessoais do usuário que tinha originalmente postado aquele anúncio (Nome completo, e-mail, telefone, etc).</p>

<p><a href="/images/2014/04/bnegocio_anuncio.png"><img src="/images/2014/04/bnegocio_anuncio.png" alt="" /></a></p>

<p>Nesse momento me dei conta que tinha me deparado com uma falha de segurança muito grave. Mas não era só isso. Ao olhar para o cabeçalho do site, vi que na verdade o Bom Negócio tinha também me logado com o usuário que postou o anúncio originalmente!</p>

<p><a href="/images/2014/04/bnegocio_header.png"><img src="/images/2014/04/bnegocio_header.png" alt="" /></a></p>

<p>Esse foi um momento bizarro! Basicamente consegui me autenticar no site como outro usuário, apenas manipulando uma URL de editar anúncio, usando o ID do anúncio dele!</p>

<p><a href="/images/2014/04/bnegocio_anuncios.png"><img src="/images/2014/04/bnegocio_anuncios.png" alt="" /></a></p>

<p>Decidi ir mais adiante. Minha teoria era de que, manipulando a URL através da alteração do parâmetro <code>list_id</code>, eu poderia me logar como qualquer usuário, bastando para isso ter o ID de um dos anúncios dele. Fui tentando com IDs de outros anúncios, mas rapidamente acabei caindo na tela de login. Fui deslogado automaticamente do sistema. Algo não estava certo.</p>

<p>Voltando a analisar a URL de editar anúncio, reparei que ela possuia outro parâmetro um pouco mais obscuro: <code>data</code>. Se tratava de outro número aparentemente sem relação com o <code>list_id</code>, esse dava pouca indicação de onde vinha. Eu estava desconfiado pois em momento algum o ID do usuário entrava na jogada, então depois de alguns minutos comecei a suspeitar que o parâmetro <code>data</code> se tratava na verdade de um ID de usuário. Não estava certo ainda de qual usuário seria, teria que ser ou do dono do anúncio, ou do usuário logado atualmente. Depois de fazer mais alguns testes, ficou claro que <code>data</code> se tratava do ID do usuário que estava logado no momento.</p>

<p>Acontece que, ao tomar posse da conta de outro usuário, automaticamente meu ID de usuário alterava, pois eu estava na verdade me passando por outra pessoa, portanto deveria enviar um parâmetro <code>data</code> diferente.</p>

<p>Não foi difícil obter o ID de usuário. Este estava um pouco mais escondido, mas facilmente encontrado no código fonte da página:</p>

<p><a href="/images/2014/04/bnegocio_data.png"><img src="/images/2014/04/bnegocio_data.png" alt="" /></a></p>

<p>Com esses ingredientes, eu basicamente tinha uma receita para me autenticar no bomnegocio.com como qualquer usuário do site, bastando atender a apenas dois simples pré-requisitos:</p>

<ul>
<li>Estar logado inicialmente em uma conta qualquer. Para isto, bastava criar um usuário fictício;</li>
<li>Ter o link para qualquer anúncio do usuário que desejo personificar. Facilmente encontrado nas páginas de listagem de anúncios do site.</li>
</ul>


<h1>Ação</h1>

<p>Com estas informações em mãos, parti para a parte divertida: construir uma prova de conceito :)</p>

<p>Escrevi um exploit em Ruby, utilizando <a href="http://mechanize.rubyforge.org/">Mechanize</a> que se autentica no bomnegocio.com utilizando um usuário de testes e varre as todas as páginas de anúncios do site, personificando cada usuário que criou cada um dos anúncios e salvando suas informações em um arquivo de texto, em formato CSV.</p>

<p>Logo, vi que um simples arquivo de texto não seria suficiente, devido ao grande volume de dados e duplicação de informações, visto que frequentemente o mesmo usuário anuncia vários produtos de uma vez só.</p>

<p>Em um segundo momento, resolvi mover os dados para um simples banco de dados MySQL, salvando as informações em uma tabela de usuários com ID, Email, Nome Completo e Telefone. Desta maneira, seria mais fácil de evitar registros duplicados, pois o ID seria a chave primária.</p>

<p>Segue abaixo o código completo do exploit que varre o bomnegocio.com e extrai informações de todos os usuários que encontrar :)</p>

<p><code>ruby
</code></p>

<p>Vale lembrar que poderiamos armazenar muitas outras informações dos usuários, por exemplo, CPF/CNPJ, CEP, Endereço, Estado, Municipio, etc. Todas estas informações estão disponíveis no momento em que nos apoderamos da sessão do usuário. Esta é apenas uma prova de conceito para ilustrar a falha de seguranca, entretanto, as dimensões deste problema são muito maiores do que apenas uma lista de nomes, email e telefone.</p>

<h1>Conclusão</h1>

<p>Com este artigo, espero poder alertar as empresas e os desenvolvedores de quão frágil é a segurança dos sites atualmente. Mesmo com todos os recursos disponíveis para tornar os sistemas o mais seguro possível, ainda hoje podemos facilmente encontrar falhas escancaradas como essa em sites de alto tráfego e volume de usuários.</p>

<p>Este é um problema bastante grave que expoe os dados pessoais de milhões de usuários que confiaram suas informações ao site bomnegocio.com, que falhou em armazená-los de forma segura, muito pelo contrário, deixando um verdadeiro rombo de segurança e expondo todas as informações, de absolutamente todos os seus usuários, a qualquer hacker que disponha o tempo e paciência de extraí-los.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-12-06T14:19:00-08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/12/06/publishing-an-android-library-to-maven-central/" itemprop="url">Publishing an Android Library to Maven Central With Gradle</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I recently migrated the <a href="https://play.google.com/store/apps/details?id=com.weheartit">We Heart It Android app</a> project to Android Studio and I thought I&rsquo;d migrate the <a href="https://github.com/felipecsl/Android-ImageManager">Android-ImageManager</a> library into the new format as well. That was the easy part. Another thing I wanted to do was to upload it to Maven Central, so it would make people&rsquo;s lives easier when using it.</p>

<p>Ok this was painful. Here are the steps I took in order to achieve it, so hopefully people won&rsquo;t struggle that much doing it in the future:</p>

<ol>
<li>Follow Chris Banes&#8217; <a href="http://chris.banes.me/blog/2013/08/27/pushing-aars-to-maven-central/">steps</a>;</li>
<li>Follow the steps <a href="https://github.com/chrisbanes/gradle-mvn-push">here</a> to configure the upload username and password;</li>
<li>Make sure you edit <code>gradle.properties</code> and <code>build.gradle</code> with your library&rsquo;s information (version, description, links, etc);</li>
<li>Follow <a href="https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide">this</a> guide. To summarize, you&rsquo;ll need to create a Sonatype <a href="https://issues.sonatype.org/secure/Dashboard.jspa">JIRA</a> account and then you&rsquo;ll have to create an issue there in order to create your project. That is basically apply for open source project hosting (that&rsquo;s basically the steps 2 and 3 on the user guide mentioned above);</li>
<li>Wait for your issue to be &ldquo;Resolved&rdquo;, that may take up to 2 business days (!!!). Someone from Sonatype will do it and you&rsquo;ll get an email;</li>
<li>Run <code>./gradlew clean build uploadArchives</code> to build and upload your project into Sonatype. IMPORTANT: You have to upload a Debug build first, otherwise it is not gonna work. You do that by adding <code>-SNAPSHOT</code> at the end of your <code>VERSION_NAME</code> on <code>gradle.properties</code>, like this, eg.: <code>VERSION_NAME=1.0.0-SNAPSHOT</code></li>
<li>After that, if all went well, you should see your project <a href="http://oss.sonatype.org/content/repositories/snapshots/">here</a>. You can navigate through the folders. My project&rsquo;s group id was <code>com.felipecsl.android</code>, so I could find it at <a href="http://oss.sonatype.org/content/repositories/snapshots/com/felipecsl/android/">http://oss.sonatype.org/content/repositories/snapshots/com/felipecsl/android/</a></li>
</ol>


<p>I still havent figured out how to promote a Staging Repository. Right now it is failing to close the repository since the package is not signed. I will update this post once I have a solution.
In the meantime, you can already use your snapshot with Maven/Gradle.
Here is how your <code>build.gradle</code> would look like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">buildscript</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">repositories</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">mavenCentral</span><span class="o">()</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="n">dependencies</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">classpath</span> <span class="s1">&#39;com.android.tools.build:gradle:0.6.+&#39;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="n">apply</span> <span class="nl">plugin:</span> <span class="s1">&#39;android&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">repositories</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="s2">&quot;https://oss.sonatype.org/content/repositories/snapshots/&quot;</span> <span class="o">}</span>
</span><span class='line'>    <span class="n">mavenCentral</span><span class="o">()</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">dependencies</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">compile</span> <span class="s1">&#39;com.felipecsl.android:library:1.0.0-SNAPSHOT&#39;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Well that is pretty much it for now. It took me almost an entire afternoon to figure this all out, hope it is useful for other people.
If you&rsquo;re interested in a simpler and a lot more elegant solution for Open Source library project hosting, check <a href="http://rubygems.org">rubygems.org</a> which is used to, guess what, host Ruby gems. That is really piece of cake compared to all this Java mess :sigh:</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-11-12T11:40:00-08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/11/12/building-a-custom-view-with-android/" itemprop="url">Building a Custom View With Android</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>This week I&rsquo;m attending <a href="http://andevcon.com/">AnDevCon</a> in San Francisco and in the first tutorial in the first day of the event, I watched a really nice workshot by <a href="https://twitter.com/chiuki">Chiu-Ki Chan&rsquo;s</a> titled <code>Hands-on Android Custom View Workshop</code>. The code is here on <a href="https://github.com/chiuki/android-fraction-view">Github</a>.</p>

<p>We built a simple custom view using circles, arcs and <code>onDraw</code> to draw some kind of pie chart that reacts to click, sends change events, etc.</p>

<p>I implemented the FractionView with some small changes, animating it into some kind of clock/stopwatch thing that animates by itself. Below is a GIF with the sample app running.</p>

<p>Please feel free to play with it and check out my fork on <a href="https://github.com/felipecsl/android-fraction-view">Github</a>.</p>

<p><img src="/images/fractionView.gif" alt="" /></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-08-20T21:05:00-07:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/08/20/animated-gifs-with-android/" itemprop="url">Handling Animated GIFs With Android the Right Way</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Working with animated GIFs on Android can be a painful task. In the <a href="https://play.google.com/store/apps/details?id=com.weheartit">We Heart It app</a> we deal with a lot of images, but also animated GIFs. Since we support Android back to API Level 8 (2.2), <code>WebView</code> is by far the simplest solution, however is not an option for us, since it <a href="https://code.google.com/p/android/issues/detail?id=3422">doesn&rsquo;t work</a> on most of older Android versions.</p>

<p>By looking at this excellent tutorial by <a href="http://droid-blog.net/2011/10/15/tutorial-how-to-play-animated-gifs-in-android-%E2%80%93-part-2/">Johannes Borchardt</a>, I decided to take <code>GifDecoder</code> approach, which seems to be the most reliable solution. However, the <a href="https://code.google.com/p/android-gifview/source/browse/trunk/GifPlayer/src/jp/tomorrowkey/android/gifplayer/GifDecoder.java">GifDecoder</a> class suggested by Johannes is not very memory efficient since it keeps in memory the bitmap data for every frame in the GIF.</p>

<p>By doing some more research, I found this great <a href="https://gist.github.com/devunwired/4479231">gist</a> with an optimized implementation of <code>GifDecoder</code> that, as described there, &ldquo;decodes images on-the-fly, and only the minimum data to create the next frame in the sequence is kept&rdquo;.</p>

<p>The class interface is however not exactly the same as the one exposed by the original <code>GifDecoder</code> class provided, thus the <code>GifDecoderView</code> class had to be adjusted. I made the adjustments required to interact with this version and also start/stop the animation. By default it will loop the GIF animation, even if the view is not on the screen, so you have to be careful to call <code>startAnimation()</code> and <code>stopAnimation()</code> correctly to avoid GIFs playing in the background, which can eat up all your memory very quickly.</p>

<p>My interaction looks basically like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'>  <span class="c1">// In my fragment class...</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">gifView</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">GifDecoderView</span><span class="o">(</span><span class="n">getActivity</span><span class="o">());</span>
</span><span class='line'>    <span class="n">gifView</span><span class="o">.</span><span class="na">setBytes</span><span class="o">(</span><span class="n">bitmapData</span><span class="o">);</span>
</span><span class='line'>    <span class="n">gifView</span><span class="o">.</span><span class="na">startAnimation</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUserVisibleHint</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">isVisibleToUser</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">setUserVisibleHint</span><span class="o">(</span><span class="n">isVisibleToUser</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="o">(!</span><span class="n">isVisibleToUser</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">gifView</span><span class="o">.</span><span class="na">stopAnimation</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can get all the code here in this <a href="https://gist.github.com/felipecsl/6289457">Gist</a>.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-03-31T13:03:00-07:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/03/31/starting-with-android-managing-images/" itemprop="url">Starting With Android - Managing Images</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I&rsquo;ve started with Android development a few months ago with the upcoming <a href="http://weheartit.com">We Heart It</a> app. Here are some random thought and impressions I had during this period, and the motivation behind building the Android-ImageManager library:</p>

<ul>
<li><p><strong>API Complexity</strong>: Compared to the iOS SDK, at first, the Android SDK seemed to me overly complicated and over-engineered. There are specific patterns you need to follow for most common scenarios and avoiding them just end up making it harder, so you basically have no choice. For example, the <a href="http://developer.android.com/training/id-auth/identify.html">AccountManager API</a>, which you need to use if you want to create an Android built in user account. There are several interfaces you have to implement, services to create, methods to override, etc. It is very painful overall.</p></li>
<li><p><strong>Version Compatibility</strong>: If you want to support a decent range of devices and <a href="http://developer.android.com/about/dashboards/index.html">Android versions</a>, you&rsquo;ll spend countless hours of testing and have to buy 10 different phones and tablets, since the Emulator is simply unusable (terribly slow). Stick with already proven open source libraries for a less painful development experience, like <a href="http://actionbarsherlock.com/">ActionbarSherlock</a>, <a href="https://github.com/JakeWharton/Android-ViewPagerIndicator">ViewPagerIndicator</a>, <a href="https://github.com/prototik/HoloEverywhere">HoloEverywhere</a>, <a href="https://github.com/JakeWharton/DiskLruCache">DiskLruCache</a>, etc. You can thank <a href="http://twitter.com/jakewharton">Jake Wharton</a> for most of that awesome work.</p></li>
<li><p><strong>Automated Testing</strong>: Painful as well. We decided to go with <a href="http://robolectric.blogspot.com/">Robolectric</a> which basically stubs all the Android APIs for you. That has pros and cons, but definitely good that your tests run super fast (like seconds) and you dont have to keep stubbing everything in order to make your tests work. All you need is a simple jUnit project. Haven&rsquo;t looked much into Integrated UI tests yet, but we definitely want to check that out soon. Android provides <a href="http://developer.android.com/reference/android/test/InstrumentationTestCase.html">some classes</a> for this job.</p></li>
<li><p><strong>Memory Management</strong>: This would deserve an entire article just for it. If you start working with images, galleries etc. or just do something that is not plain trivial, you&rsquo;ll sooner or later start seeing <code>OutOfMemoryError</code>. It is hard to get it right, and there are many things you need to be aware of when building an application, specially for We Heart It, which is totally image-heavy. Some of the techniques definitely include</p>

<ol>
<li><a href="http://developer.android.com/training/displaying-bitmaps/cache-bitmap.html">Cache your images</a> so you don&rsquo;t keep requesting the same images over and over again and wasting all the user&rsquo;s data bandwidth;</li>
<li><a href="http://developer.android.com/training/displaying-bitmaps/load-bitmap.html">Request a sampled version of the images</a> that is adequate for the screen size/display dimensions where it is gonna be used;</li>
<li><a href="http://developer.android.com/training/displaying-bitmaps/manage-memory.html">Recycle</a> your bitmap when it is not being used anymore, so you can reclaim unused memory faster.</li>
<li>Avoid creating too many instances: When working with a REST API, it is easy to instantiate new objects all the time and keep them around, send to the Activities, etc. Try to keep your footprint to a minimum. Think about all object instantiation and whether it is needed or not. Sometimes all you need is a simpler version of your domain object to be shown in the UI, so keep a simpler version of your model that contains only the needed information to be displayed.</li>
</ol>
</li>
</ul>


<p>Some of these reasons above motivated me to create the library <a href="https://github.com/felipecsl/Android-ImageManager">Android-ImageManager</a>, which takes care of caching and storing the displaying efficiently. It uses a two level cache, first in-memory using an `LruCache&#8220;, then in disk, using DiskLruCache to save the files to the device&rsquo;s SD Card. If an image is found in the memory cache, it is fetched from there, otherwise, it tries to retrieve it from disk cache. If it can&rsquo;t be found either, then it finally downloads the image and stores it in both caches. Everything is done assynchonously, obviously. The library is still in early stage, as I plan to add more samples and polish it a bit more. So check out the Github <a href="https://github.com/felipecsl/Android-ImageManager">repository</a>.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-07-31T20:46:00-07:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/07/31/when-two-identical-strings-are-different/" itemprop="url">When Two Identical Strings Are Different?</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Think these two strings are the same?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;R. Padre Chagas 342&quot;</span>
</span><span class='line'><span class="s2">&quot;R. Padre Chagas 342&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Pretty much, right? So we open IRB:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">3</span><span class="n">p0</span> <span class="p">:</span><span class="mi">085</span> <span class="o">&gt;</span> <span class="s2">&quot;R. Padre Chagas 342&quot;</span> <span class="o">==</span> <span class="s2">&quot;R. Padre Chagas 342&quot;</span>
</span><span class='line'>  <span class="c1"># =&gt; false</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://i0.kym-cdn.com/photos/images/original/000/199/693/disgusted-mother-of-god.png?1321272571" alt="" /></p>

<p>WTF!!? Took me a couple minutes of head scratching to figure out.. let’s look closer:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">3</span><span class="n">p0</span> <span class="p">:</span><span class="mi">086</span> <span class="o">&gt;</span> <span class="s2">&quot;R. Padre Chagas 342&quot;</span><span class="o">.</span><span class="n">bytes</span><span class="o">.</span><span class="n">to_a</span>
</span><span class='line'>  <span class="c1"># =&gt; [82, 46, 32, 80, ... , 67, 104, 97, 103, 97, 115, 32, 51, 52, 50] </span>
</span><span class='line'><span class="mi">1</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">3</span><span class="n">p0</span> <span class="p">:</span><span class="mi">087</span> <span class="o">&gt;</span> <span class="s2">&quot;R. Padre Chagas 342&quot;</span><span class="o">.</span><span class="n">bytes</span><span class="o">.</span><span class="n">to_a</span>
</span><span class='line'>  <span class="c1"># =&gt; [82, 46, 32, 80, ... , 67, 104, 97, 103, 97, 115, 194, 160, 51, 52, 50]</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>Haa. There it is.. an extra hidden byte!. Crazy huh? Even closer:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">3</span><span class="n">p0</span> <span class="p">:</span><span class="mi">088</span> <span class="o">&gt;</span> <span class="s2">&quot;R. Padre Chagas 342&quot;</span><span class="o">.</span><span class="n">byteslice</span><span class="p">(</span><span class="mi">9</span><span class="o">.</span><span class="n">.</span><span class="mi">15</span><span class="p">)</span>
</span><span class='line'> <span class="c1"># =&gt; &quot;Chagas &quot; </span>
</span><span class='line'><span class="mi">1</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">3</span><span class="n">p0</span> <span class="p">:</span><span class="mi">089</span> <span class="o">&gt;</span> <span class="s2">&quot;R. Padre Chagas 342&quot;</span><span class="o">.</span><span class="n">byteslice</span><span class="p">(</span><span class="mi">9</span><span class="o">.</span><span class="n">.</span><span class="mi">15</span><span class="p">)</span>
</span><span class='line'> <span class="c1"># =&gt; &quot;Chagas\xC2&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is what happens when you scrape data from the web… Do not believe everything you see :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-06-14T20:46:00-07:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/06/14/getting-started-with-chef/" itemprop="url">Getting Started With Chef</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>If you never heard of it, <a href="http://www.opscode.com/chef/">Chef</a> is a server automation tool for server management tasks. It is often related to the terms <a href="http://en.wikipedia.org/wiki/DevOps">DevOps</a> and <a href="http://blog.carlossanchez.eu/2012/03/13/infrastructure-as-code/">Infrastructure as Code</a> which have started to gain quite a bit of attention lately. If you&rsquo;ve ever seen yourself doing the exact same steps, like installing MySql on a server several times in a row, always doing the exact same steps, and wondered if there was a more intelligent way of doing that, then Chef is for you.</p>

<p><img src="http://www.rit.edu/news/lib/filelib/200708/new_chef.jpg" alt="" /></p>

<p><em>No, not this kind of chef :)</em></p>

<p>This is not the only option available. Other well known tools include <a href="http://puppetlabs.com/">Puppet</a> and <a href="http://vagrantup.com/">Vagrant</a>. The latter, though, being targeted at virtualized development environments, while the former, are targeted at real (production) machines.</p>

<p>So, &lsquo;nuff said, here are some notes I took from my first time playing with Chef. It was far from being a straightforward process, that is why a good old blog post comes handy. Turns out it was pretty painful just to get it started, and I didn&rsquo;t even get to the part where you prepare the recipes and cookbooks (hmmm :)).</p>

<p>So to get started, I fired up a brand new clean Ubuntu 12 instance in <a href="https://console.aws.amazon.com/ec2/home">Amazon EC2</a>. If you need help doing that, there are plenty of documentation online for how to get started on AWS. Go there and search, I will wait here.</p>

<p>Ok, so now that you have an instance up and running, connect to it via ssh (tip: you will need the private key file .pem):</p>

<pre><code>ssh -i &lt;path_to_your_pem_file&gt; ubuntu@ec2-xx-xx-xxx-xxx.us-west-1.compute.amazonaws.com
</code></pre>

<p>Install chef-server. There is a wiki for that <a href="http://wiki.opscode.com/display/chef/Installing+Chef+Server+on+Debian+or+Ubuntu+using+Packages">here</a>. After you run <strong>apt-get install chef chef-server</strong>, most likely, at t he end, chef-server will fail to start (at least that is what happened to me)</p>

<p>Ok, if you try to start the server manually via the command <strong>chef-server</strong>, then it might end up exploding with this error:</p>

<pre><code>NOTE: Gem.activate is deprecated, use Specification#activate. 
It will be removed on or after 2011-10-01.
</code></pre>

<p>This is basically saying that you are using the wrong version of ruby and/or rubygems. The plain ubuntu install only comes with ruby 1.8 installed which is probably not what we want. So we&rsquo;ll install <a href="https://rvm.io//">rvm</a> and ruby 1.9.</p>

<p>But, before that, let&rsquo;s install some dependencies:</p>

<p>Run this to install some required packages that you gonna need&hellip; some of them are probably not needed for this, but it wont hurt to install them anyways.</p>

<pre><code>sudo apt-get install build-essential bison openssl libreadline6 libreadline6-dev curl 
git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-0 libsqlite3-dev 
sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev -y
</code></pre>

<p>Done that, install rvm, ruby and some required gems:</p>

<pre><code>curl -L https://get.rvm.io | bash -s stable --ruby
gem install yajl-ruby -v 0.7.7
gem install chef
gem install chef-server
</code></pre>

<p>At this point, you should be able to just run <strong>chef-server</strong> see it running. If all goes well, you might want to do <strong>chef-server -e production -d</strong> to run it in production environment and daemonize, so it runs in background. You will also need to start the webui via <strong>chef-server-webui</strong> <strong>-e production -d.</strong> If all goes smoothly, you should be able to access the webui at **<a href="http://ec2-xx-xx-xxx-xxx.us-west-1.compute.amazonaws.com:4040/**.">http://ec2-xx-xx-xxx-xxx.us-west-1.compute.amazonaws.com:4040/**.</a> As you probably noticed, the webui runs in the port 4040, while the chef-server runs in 4000. Don&rsquo;t forget to open these ports in the AWS Security Group and allow your machine IP to access them!  But wait, this was only the start hahah! Now comes the server configuration&hellip;</p>

<p><a href="/images/2012/06/Screen-Shot-2012-06-14-at-11.43.09-PM.png"><img src="/images/2012/06/Screen-Shot-2012-06-14-at-11.43.09-PM.png" alt="" /></a></p>

<p>If you are still following the wiki steps (you should), by now you should be running <strong>knife configure -i</strong>. Knife is chef&rsquo;s command line configuration tool, it can do a lot of stuff. This is gonna try to create an API user. If you are unlucky, like me, you will see this error:</p>

<pre><code>Creating initial API user...
ERROR: Server returned error for &lt;a href="http://ec2-50-18-239-212.us-west-1.compute.amazonaws.com:4000/clients/ubuntu"&gt;http://ec2-xx-xx-xxx-xxx.us-west-1.compute.amazonaws.com:4000/clients/client_name&lt;/a&gt;, retrying 1/5 in 3s
...
</code></pre>

<p>This probably means chef cannot connect to RabbitMQ (the guy that does the messaging between chef components). To double check, run this:</p>

<pre><code>sudo rabbitmqctl list_permissions -p /chef
</code></pre>

<p>&hellip; and you should see this error:</p>

<pre><code>Listing permissions in vhost "/chef" ...
Error: {no_such_vhost,&lt;&lt;"/chef"&gt;&gt;}
</code></pre>

<p>So this is how you fix it:</p>

<pre><code>sudo rabbitmqctl add_vhost /chef
sudo rabbitmqctl add_user chef &lt;password&gt;
sudo rabbitmqctl set_permissions -p /chef chef ".*" ".*" ".*"
</code></pre>

<p>Gotcha: The rabbitmq password has to be the same one found in /etc/chef/server.rb config file (mine was &lsquo;root&rsquo;)</p>

<p>Ok, this should get you all set. Last step, verify the knife configuration running <strong>knife client list</strong>. And guess what?! More errors!</p>

<pre><code>ERROR: Your private key could not be loaded from /home/ubuntu/.chef/ubuntu.pem
Check your configuration file and ensure that your private key is readable
</code></pre>

<p>This happened to me because when I ran knife configure -i, I set as the new username, a username that was somehow already in use (ubuntu). So the solution was to run it again and set a different new username when asked. This should create your API client and get you all set.</p>

<pre><code>ubuntu@ip-xx-xxx-xxx-xxx:~/.chef$ knife client list
 Lixaredo.local
 admin
 chef-validator
 chef-webui
 felipecsl
 local
</code></pre>

<p>Ok here is another gotcha. If you ever turn off your instance and bring it back later, it will most likely change its public dns (<strong><strong>*.compute.amazonaws.com&hellip;). Make sure you update it in your </strong>knife.rb</strong> file or it wont work. Mine was located at ~/.chef/knife.rb</p>

<pre><code>log_level :info
log_location STDOUT
node_name 'local'
client_key '/home/ubuntu/.chef/local.pem'
validation_client_name 'chef-validator'
validation_key '/etc/chef/validation.pem'
&lt;strong&gt;chef_server_url 'http://ec2-xx-xx-xx-xx.us-west-1.compute.amazonaws.com:4000/'&lt;/strong&gt;
cache_type 'BasicFile'
cache_options( :path =&gt; '/home/ubuntu/.chef/checksums' )
</code></pre>

<p>Ok that&rsquo;s it for today. Next time I will talk about recipes and cookbooks!</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-06-05T09:18:19-07:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/06/05/protip-delete-words-on-iterm2-mac-osx/" itemprop="url">Protip: Delete Words on iTerm2 (Mac OSX)</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I don&rsquo;t usually post short tips, but this one is really killer. To delete one word at a time when pressing ⌘+Delete in the iTerm2, use this configuration as shown in the first line of the screenshot below (click to expand).</p>

<p><a href="/images/2012/06/Screen-Shot-2012-06-05-at-12.00.02-PM.png"><img src="/images/2012/06/Screen-Shot-2012-06-05-at-12.00.02-PM.png" alt="" /></a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-24T21:46:22-07:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/24/wombat-0-4-0-released/" itemprop="url">Wombat 0.4.0 Released!</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>It has been a while since I&rsquo;ve been working on this Ruby <a href="https://rubygems.org/gems/wombat">gem</a> called <a href="https://github.com/felipecsl/wombat">wombat</a> and thought it would be worth talking about it here. I just released today the version 0.4.0 with some bug fixes and the addition of another helper method, as you can see in the GitHub <a href="https://github.com/felipecsl/wombat">readme</a>.</p>

<p>Wombat is a gem for making extracting information from web pages, or just crawling, a little less painful. If you were to do that today, you&rsquo;d probably have to fall back to Nokogiri or another lower level gem and process the data yourself. With Wombat, you can define a structure of how your data should look like in a DSL like format, and Wombat does the work for you. It is pretty handy actually.</p>

<p>It all started with the project <a href="http://noitehoje.com.br">Noite Hoje</a> where we used to grab shows and parties informations from 3rd party sites and display there, like an indexer. When working on that, I noticed how painful and repetitive it can be to crawl web pages sometimes.</p>

<p>Anyway, if Wombat is/was useful for you, please don&rsquo;t hesitate to drop me a line in the comments, I would be very happy to know.</p>

<p>After meeting great people like <a href="https://twitter.com/#!/paul_irish">Paul Irish</a> and <a href="https://twitter.com/#!/wycats">Yehuda Katz</a>, you kinda feel almost obligated to share some knowledge with your peers and give back to the open source community.</p>

<p>By the way, if you work with Resque, you should probably also check the great <a href="https://github.com/kensodev/perform_later">perform_later</a> gem by my friend and coworker <a href="http://kensodev.com/">Avi Tzurel</a>, to which I also have been contributing.</p>

<p>Cheers!</p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
        <a href="2" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2015

    Felipe Lima


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
